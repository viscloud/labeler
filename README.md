# viscloud/labeler

### 1. Overview

This repository contains two artifacts:
1. `labeler.cpp`: A script that assists with manually labeling large amounts
of video data with the temporal boundaries of interesting events.
2. `labels` directory: The label data files generated by the above script
for the various datasets that the `viscloud` organization uses.

### 2. Compilation

`labeler.cpp` requires OpenCV with Qt support. Most likely, you will need to
install Qt and OpenCV from source. If your installation of OpenCV is already
built with Qt, then skip to section 2.3.
 for more information.

#### 2.1 Clone and compile Qt. More info: [qt5 repo](https://github.com/qt/qt5)

```sh
git clone git@github.com:qt/qt5
cd qt5
git checkout 5.11
git submodule update --init
./configure -prefix $PWD/qtbase -opensource -nomake tests
make
```
**Note:** This takes a long time.

#### 2.2. Clone and compile OpenCV with Qt support. More info: [OpenCV documentation](https://docs.opencv.org/3.4.1/d7/d9f/tutorial_linux_install.html)

```sh
git clone git@github.com:opencv/opencv
cd opencv
git checkout 3.3.0
mkdir build
cd build
export QT_DIR=<path to Qt5 repo>
cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local \
  -DQT_QMAKE_EXECUTABLE=$QT_DIR/qtbase/bin/qmake \
  -DQt5Concurrent_DIR=$QT_DIR/qtbase/lib/cmake/Qt5Concurrent
  -DQt5Core_DIR=$QT_DIR/qtbase/lib/cmake/Qt5Core \
  -DQt5Gui_DIR=$QT_DIR/qtbase/lib/cmake/Qt5Gui
  -DQt5OpenGL_DIR=$QT_DIR/qtbase/lib/cmake/Qt5OpenGL \
  -DQt5Test_DIR=$QT_DIR/qtbase/lib/cmake/Qt5Test
  -DQt5Widgets_DIR=$QT_DIR/qtbase/lib/cmake/Qt5Widgets \
  -DWITH_QT=yes -DBUILD_TESTS=no -DWITH_FFMPEG=no ..
make
sudo make install
```

#### 2.3. Clone and compile the labeler.

```sh
git clone git@github.com:viscloud/labeler
make
```
